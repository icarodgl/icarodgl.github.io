!function(t){function e(e){for(var o,s,a=e[0],c=e[1],p=e[2],l=0,h=[];l<a.length;l++)s=a[l],r[s]&&h.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(u&&u(e);h.length;)h.shift()();return i.push.apply(i,p||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={1:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var p=0;p<a.length;p++)e(a[p]);var u=c;i.push([18,0]),n()}([,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),r=n(15),i=n(14),s=n(13),a=n(12),c={bullet:new o.Texture(a),Player:new o.Texture(r),Zombie:new o.Texture(i),Areia:new o.Texture(s)};e.Resources=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(7),a=function(t){function e(e,n,o,r,s){var a=t.call(this,{x:e,y:n,vel:new i.Vector(o,r),width:10,height:10,collisionType:i.CollisionType.Passive})||this;return a.owner=s,a}return r(e,t),e.prototype.onInitialize=function(t){var e=this;this.on("precollision",this.onPreCollision),this.on("exitviewport",function(){return e.killAndRemoveFromBullets()});var n=new i.SpriteSheet(s.Resources.bullet,1,1,10,10);this.addDrawing("default",n.getAnimationForAll(t,125))},e.prototype.onPreCollision=function(t){t.other instanceof e||t.other===this.owner||this.killAndRemoveFromBullets()},e.prototype.killAndRemoveFromBullets=function(){this.kill()},e}(i.Actor);e.Bullet=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(7),a=n(8),c=function(t){function e(){var e=t.call(this)||this;return e.IdleSheet=new i.SpriteSheet(s.Resources.Player,4,4,50,50),e.armaIdleSheet=new i.SpriteSheet(s.Resources.Player,4,3,50,50),e.passo=5,e.hp=1,e.setWidth(50),e.setHeight(50),e.x=.5*window.innerWidth,e.y=.5*window.innerHeight,e.color=new i.Color(255,255,255),e}return r(e,t),e.prototype.onInitialize=function(t){this.on("precollision",this.onPreCollision)},e.prototype.onPreCollision=function(t){t.other,a.Bullet,this.hp-=1,this.hp<=0&&this.kill()},e.prototype.criar=function(t){this.addDrawing("idle",this.IdleSheet.getAnimationForAll(t,125)),this.addDrawing("armado",this.armaIdleSheet.getAnimationForAll(t,125)),this.setDrawing("idle"),this.x=t.halfDrawWidth,this.y=t.halfDrawHeight,this.mirar(t),this.andar(t),this.atirar(t)},e.prototype.atirar=function(t){var e=this;t.input.pointers.primary.on("down",function(n){var o=new a.Bullet(e.x+10,e.y+10,1e3*Math.cos(e.rotation),1e3*Math.sin(e.rotation),e);t.add(o)})},e.prototype.mirar=function(t){var e=this;t.input.pointers.primary.on("move",function(t){var n=t.pos.x-e.pos.x,o=t.pos.y-e.pos.y;e.rotation=Math.atan2(o,n)})},e.prototype.andar=function(t){var e=this;t.input.keyboard.on("hold",function(n){n.key===i.Input.Keys.D&&(t.currentScene.camera.x+=e.passo,e.x+=e.passo),n.key===i.Input.Keys.A&&(t.currentScene.camera.x-=e.passo,e.x-=e.passo),n.key===i.Input.Keys.W&&(t.currentScene.camera.y-=e.passo,e.y-=e.passo),n.key===i.Input.Keys.S&&(t.currentScene.camera.y+=e.passo,e.y+=e.passo),t.input.keyboard.on("down",function(t){t.key===i.Input.Keys.R&&e.setDrawing("armado")})})},e}(i.Actor);e.Player=c},,function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(7),a=n(8),c=function(t){function e(){var e=t.call(this)||this;return e.IdleSheet=new i.SpriteSheet(s.Resources.Zombie,4,1,50,50),e.atackSheet=new i.SpriteSheet(s.Resources.Zombie,4,2,50,50),e.hp=1,e.setWidth(50),e.setHeight(50),e.x=100,e.y=100,e.color=new i.Color(255,255,255),e.collisionType=i.CollisionType.Passive,e}return r(e,t),e.prototype.cria=function(t){this.addDrawing("idle",this.IdleSheet.getAnimationForAll(t,125)),this.addDrawing("atack",this.atackSheet.getAnimationForAll(t,125)),this.onInitialize(t)},e.prototype.onInitialize=function(t){this.on("precollision",this.onPreCollision)},e.prototype.onPreCollision=function(t){t.other instanceof a.Bullet&&(this.hp-=1),this.hp<=0&&this.kill()},e}(i.Actor);e.Zombie=c},function(t,e,n){t.exports=n.p+"b7231defce7e85bdf0274ce9978ec7a6.png"},function(t,e,n){t.exports=n.p+"28ad5e05399d3106b0c95423e1711d5f.png"},function(t,e,n){t.exports=n.p+"da81802cf482a8e26c8cddfc6cd17d1b.png"},function(t,e,n){t.exports=n.p+"b58c07559ecda7aa7e310bef1e14de1e.png"},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(7),a=function(t){function e(){var e=t.call(this,0,0,50,50,40,40)||this;return e.ss=new i.SpriteSheet({image:s.Resources.Areia,rows:1,columns:1,spWidth:50,spHeight:50}),e.tilesprite=new i.TileSprite("root",0),e}return r(e,t),e.prototype.carregar=function(){this.registerSpriteSheet("root",this.ss),this.criaTerreno()},e.prototype.criaTerreno=function(){for(var t=0;t<this.rows*this.cols;t++)this.getCellByIndex(t).pushSprite(this.tilesprite)},e}(i.TileMap);e.PrimeiroMapa=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(16),a=n(9),c=n(7),p=n(11),u=n(10),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(){},e.prototype.onDeactivate=function(){},e}(i.Scene);e.Menu=l;var h=new a.Player,f=[],d=new i.Engine({width:window.innerWidth,height:window.innerHeight}),y=new i.Loader,_=new s.PrimeiroMapa;for(var w in _.carregar(),d.add(_),h.criar(d),d.currentScene.add(h),c.Resources)y.addResource(c.Resources[w]);d.start(y).then(function(){for(;f.length<10;){var t=new p.Zombie;f.push(t),t.cria(d),t.x=u.randomInRange(1,500),t.y=u.randomInRange(1,500),d.currentScene.add(t)}})},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),s=n(17),a=n(9),c=new(function(t){function e(){return t.call(this,{width:window.innerWidth,height:window.innerHeight,displayMode:i.DisplayMode.FullScreen})||this}return r(e,t),e.prototype.start=function(e){return t.prototype.start.call(this,e)},e}(i.Engine)),p=new s.Menu;(new a.Player).criar(c),c.add("menu",p);var u=new i.Loader;c.start(u).then(function(){c.goToScene("menu")})}]);
//# sourceMappingURL=main.js.map